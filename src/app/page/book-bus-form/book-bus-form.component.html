<app-loading *ngIf="loading"></app-loading>
<div *ngIf="!loading" class="container full-height d-flex justify-content-center align-items-center">
  <div class="signup-form">
    
    <div>
      <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()">
        <div class="d-flex justify-content-end">
          <button type="button" class="mt-3 border-0 rounded bg-transparent" routerLink="/bus-book" (click)="this.bookingForm.reset();"><i class="pi pi-times"></i></button>
        </div>

        <h2>Book Seat {{ selectedSeat }}</h2>

        <div class="form-floating">

          <input id="departure" class="form-control" type="text" formControlName="departure" placeholder="Bus departure" required [disabled]="true">

          <div class="text-danger" *ngIf="bookingForm.get('departure')?.invalid && bookingForm.get('departure')?.touched">
            Departure is required.
          </div>

          <label for="floatingTextarea">Bus departure</label>
        </div>

        <div class="form-floating">

          <input id="destination" class="form-control" type="text" formControlName="destination" placeholder="" required [disabled]="true">
          <div class="text-danger" *ngIf="bookingForm.get('destination')?.invalid && bookingForm.get('destination')?.touched">
            Destination is required.
          </div>
          <label for="floatingTextarea">Bus destination</label>
        </div>

        <div class="form-floating">
          <input id="departureTime" class="form-control" type="text" formControlName="departureTime" placeholder="" required [disabled]="true">
          <div class="text-danger" *ngIf="bookingForm.get('departureTime')?.invalid && bookingForm.get('departureTime')?.touched">
            Departure Time is required.
          </div>
          <label for="floatingTextarea">Bus departureTime</label>
        </div>

        <div class="form-floating">
          <input [ngClass]="{'form-control' : true , 'border-danger' : bookingForm.get('bookingDate')?.invalid && bookingForm.get('bookingDate')?.touched}" for="bookingDate" type="date" formControlName="bookingDate" placeholder="" required="">

          <div class="text-danger" *ngIf="bookingForm.get('bookingDate')?.invalid && bookingForm.get('bookingDate')?.touched">
            booking Date is required.
          </div>

          <label for="floatingTextarea">Bus booking Date</label>
        </div>

        <div class="form-floating my-2">

          <select class="form-select seatNumber" aria-label="Default select example" formControlName="seat" placeholder="">
            <option class="bg-dark" value="1">One</option>
            <option class="bg-dark" value="2">Two</option>
            <option class="bg-dark" value="3">Three</option>
            <option class="bg-dark" value="4">Four</option>
            <option class="bg-dark" value="5">Five</option>
            <option class="bg-dark" value="6">Six</option>
          </select>

          <label for="floatingTextarea">Number of Seat</label>

          <div class="text-danger" *ngIf="bookingForm.get('seat')?.invalid && bookingForm.get('seat')?.touched">
            Bus Seat is required.
          </div>
        </div>

        <div class="form-floating my-4">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="isSingleLady" required="">
            <label class="form-check-label mx-2 my-1" for="flexCheckIndeterminate">
              Single Lady
            </label>
          </div>
        </div>

        <div class="form-floating">
          <input id="payment" class="form-control" type="payment" formControlName="payment" placeholder="" required [disabled]="true">
          <div class="text-danger" *ngIf="bookingForm.get('payment')?.invalid && bookingForm.get('payment')?.touched">
            Bus Payment is required.
          </div>

          <label for="floatingTextarea">Payment</label>
        </div>

        <div class="form-group">
          <label for="payment">Payment Method</label>
          <select id="payment1" class="form-control text-dark" formControlName="paymentMethod" required [disabled]="true">
            <option value="">Select payment method</option>
            <option class="text-dark" value="upi">Payment by UPI</option>
            <option class="text-dark" value="card">Payment by Card</option>
          </select>
          <div class="text-danger" *ngIf="bookingForm.get('paymentMethod')?.invalid && bookingForm.get('paymentMethod')?.touched">
            Payment method is required.
          </div>
        </div>

        <button class="btn btn-primary m-1" type="submit">Confirm Booking</button>
      </form>
    </div>
  </div>
</div>